<div class="camera">
  <video id="video">Video stream not available.</video>
  <div class="text-center camera-action" id="startbutton">
    <i class="mdi mdi-camera" aria-hidden="true"></i>
  </div>
</div>
<canvas id="canvas">
</canvas>
<div class="output">
  <div class="hidden" id="photo-box">
    <img id="photo" alt="The screen capture will appear in this box.">
    <div class="text-center camera-action" id="resetbutton">
      <i class="mdi mdi-close-circle-outline mdi-36px" aria-hidden="true"></i>
    </div>
  </div>
</div>
<div class="container text-center padded-1em">
  <%= simple_form_for @memory do |f| %>
    <%= f.input :title, hint: '45 characters max.' %>
    <!-- TODO nested attributes for contacts -->
    <%= f.input :photo, as: :hidden %>
    <%= f.input :photo_cache, as: :hidden %>
    <%#= f.input :photo, input_html: { class: 'hidden' },
      label_html: { class: 'hidden btn btn-primary',
                    id: 'add-photo-button' },
      label: 'Add photo' %>
    <%= f.input :address, input_html: { value: @address } %>
    <%= f.submit "Save", class: "btn btn-full-width btn-primary" %>
  <% end %>
</div>
<% if @marker %>
  <div id="card-map"
    style="height: 300px;width:100%"
    data-markers="<%= @marker.to_json %>">
  </div>
<% end %>

<% content_for :after_js do %>
  <%= javascript_pack_tag 'map' %>
  <%= javascript_pack_tag 'camera' %>
<% end %>
